/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: jetty/11.0.15
 * Generated at: 2025-11-25 10:16:18 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import jakarta.servlet.*;
import jakarta.servlet.http.*;
import jakarta.servlet.jsp.*;
import com.smartcalendar.utils.LanguageUtil;

public final class login_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final jakarta.servlet.jsp.JspFactory _jspxFactory =
          jakarta.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("jakarta.servlet");
    _jspx_imports_packages.add("jakarta.servlet.http");
    _jspx_imports_packages.add("jakarta.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("com.smartcalendar.utils.LanguageUtil");
  }

  private volatile jakarta.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public jakarta.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final jakarta.servlet.http.HttpServletRequest request, final jakarta.servlet.http.HttpServletResponse response)
      throws java.io.IOException, jakarta.servlet.ServletException {

    if (!jakarta.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
        return;
      }
    }

    final jakarta.servlet.jsp.PageContext pageContext;
    jakarta.servlet.http.HttpSession session = null;
    final jakarta.servlet.ServletContext application;
    final jakarta.servlet.ServletConfig config;
    jakarta.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    jakarta.servlet.jsp.JspWriter _jspx_out = null;
    jakarta.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\n');
      out.write('\n');

    // LanguageFilter sets request attributes 'lang' and 'textDir'; fall back gracefully if absent
    String lang = (String) request.getAttribute("lang");
    if (lang == null) {
        lang = (String) session.getAttribute("lang");
        if (lang == null || !LanguageUtil.isSupportedLanguage(lang)) lang = "en";
    }
    String textDir = (String) request.getAttribute("textDir");
    if (textDir == null) textDir = LanguageUtil.getTextDirection(lang);
    String errorMessage = (String) request.getAttribute("errorMessage");

      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html lang=\"");
      out.print( lang );
      out.write("\" dir=\"");
      out.print( textDir );
      out.write("\">\n");
      out.write("<head>\n");
      out.write("    <meta charset=\"UTF-8\">\n");
      out.write("    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n");
      out.write("    <title>");
      out.print( LanguageUtil.getText(lang, "app.title") );
      out.write(' ');
      out.write('-');
      out.write(' ');
      out.print( LanguageUtil.getText(lang, "login.title") );
      out.write("</title>\n");
      out.write("    <link rel=\"stylesheet\" href=\"css/modern-auth.css\">\n");
      out.write("    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n");
      out.write("    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n");
      out.write("    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\n");
      out.write("    \n");
      out.write("</head>\n");
      out.write("<body class=\"modern-auth-page\">\n");
      out.write("    \n");
      out.write("\n");
      out.write("    <!-- Background Animation -->\n");
      out.write("    <div class=\"animated-background\">\n");
      out.write("        <div class=\"gradient-orb orb-1\"></div>\n");
      out.write("        <div class=\"gradient-orb orb-2\"></div>\n");
      out.write("        <div class=\"gradient-orb orb-3\"></div>\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("    <!-- Main Login Container -->\n");
      out.write("    <!-- Language Switcher removed as requested -->\n");
      out.write("    <div style=\"position:absolute;top:16px;right:16px;z-index:50;\">\n");
      out.write("        <form action=\"set-language\" method=\"post\" style=\"margin:0;display:flex;align-items:center;gap:4px;\">\n");
      out.write("            <select name=\"lang\" onchange=\"this.form.submit()\" class=\"form-control\" style=\"padding:4px 8px;min-width:110px;\">\n");
      out.write("                ");

                    for (String code : LanguageUtil.getSupportedLanguages()) {
                
      out.write("\n");
      out.write("                <option value=\"");
      out.print( code );
      out.write('"');
      out.write(' ');
      out.print( code.equals(lang)?"selected":"" );
      out.write('>');
      out.print( LanguageUtil.getLanguageName(code) );
      out.write("</option>\n");
      out.write("                ");
 } 
      out.write("\n");
      out.write("            </select>\n");
      out.write("        </form>\n");
      out.write("    </div>\n");
      out.write("    <div class=\"modern-auth-container\">\n");
      out.write("        <div class=\"auth-card\">\n");
      out.write("            <!-- Brand Section -->\n");
      out.write("            <div class=\"auth-brand\">\n");
      out.write("                <div class=\"brand-logo\">\n");
      out.write("                    <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n");
      out.write("                        <rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n");
      out.write("                        <line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"></line>\n");
      out.write("                        <line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"></line>\n");
      out.write("                        <line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"></line>\n");
      out.write("                    </svg>\n");
      out.write("                </div>\n");
      out.write("                <h1 class=\"brand-title\">");
      out.print( LanguageUtil.getText(lang, "app.title") );
      out.write("</h1>\n");
      out.write("                <p class=\"brand-subtitle\">");
      out.print( LanguageUtil.getText(lang, "login.subtitle") );
      out.write("</p>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <!-- Error Message -->\n");
      out.write("            ");
 if (errorMessage != null) { 
      out.write("\n");
      out.write("            <div class=\"alert alert-error\">\n");
      out.write("                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n");
      out.write("                    <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n");
      out.write("                    <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line>\n");
      out.write("                    <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line>\n");
      out.write("                </svg>\n");
      out.write("                ");
      out.print( errorMessage );
      out.write("\n");
      out.write("            </div>\n");
      out.write("            ");
 } 
      out.write("\n");
      out.write("\n");
      out.write("            <!-- Portal Toggle -->\n");
      out.write("            <div class=\"form-group\" style=\"display:flex;gap:8px;justify-content:center;margin-bottom:12px;\">\n");
      out.write("                <button type=\"button\" id=\"userPortalBtn\" class=\"login-btn\" style=\"inline-size:50%;background:var(--gray-100);color:var(--gray-700);\" onclick=\"setPortal('user')\">");
      out.print( LanguageUtil.getText(lang, "login.user") );
      out.write("</button>\n");
      out.write("                <button type=\"button\" id=\"adminPortalBtn\" class=\"login-btn\" style=\"inline-size:50%;background:linear-gradient(135deg, #9ca3af, #6b7280);\" onclick=\"setPortal('admin')\">");
      out.print( LanguageUtil.getText(lang, "login.admin") );
      out.write("</button>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <!-- Login Form -->\n");
      out.write("            <form method=\"post\" action=\"login\" class=\"modern-auth-form\">\n");
      out.write("                <input type=\"hidden\" id=\"portalField\" name=\"portal\" value=\"");
      out.print( request.getAttribute("portal") != null ? (String)request.getAttribute("portal") : (request.getParameter("portal") != null ? request.getParameter("portal") : "user") );
      out.write("\">\n");
      out.write("                <div class=\"form-group\">\n");
      out.write("                    <div class=\"input-container\">\n");
      out.write("                        <svg class=\"input-icon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n");
      out.write("                            <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n");
      out.write("                            <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n");
      out.write("                        </svg>\n");
      out.write("                           <input type=\"text\" id=\"username\" name=\"username\" class=\"form-input\" \n");
      out.write("                               placeholder=\"");
      out.print( LanguageUtil.getText(lang, "login.username") );
      out.write("\" required autocomplete=\"username\">\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <div class=\"form-group\">\n");
      out.write("                    <div class=\"input-container\">\n");
      out.write("                        <svg class=\"input-icon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n");
      out.write("                            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n");
      out.write("                            <circle cx=\"12\" cy=\"16\" r=\"1\"></circle>\n");
      out.write("                            <path d=\"m7 11V7a5 5 0 0 1 10 0v4\"></path>\n");
      out.write("                        </svg>\n");
      out.write("                           <input type=\"password\" id=\"password\" name=\"password\" class=\"form-input\" \n");
      out.write("                               placeholder=\"");
      out.print( LanguageUtil.getText(lang, "login.password") );
      out.write("\" required autocomplete=\"current-password\">\n");
      out.write("                        <button type=\"button\" class=\"password-toggle\" onclick=\"togglePasswordVisibility()\">\n");
      out.write("                            <svg id=\"eyeIcon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n");
      out.write("                                <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n");
      out.write("                                <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n");
      out.write("                            </svg>\n");
      out.write("                        </button>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <button type=\"submit\" class=\"login-btn\" id=\"submitBtn\">\n");
      out.write("                    <span id=\"submitText\">");
      out.print( LanguageUtil.getText(lang, "login.signin") );
      out.write("</span>\n");
      out.write("                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n");
      out.write("                        <path d=\"M9 18l6-6-6-6\"></path>\n");
      out.write("                    </svg>\n");
      out.write("                </button>\n");
      out.write("            </form>\n");
      out.write("\n");
      out.write("            <!-- Auth Links -->\n");
      out.write("            <div class=\"auth-links\">\n");
      out.write("                <div class=\"link-row\">\n");
      out.write("                    <a href=\"register.jsp?lang=");
      out.print( lang );
      out.write("\" class=\"auth-link register-link\" id=\"registerLink\">\n");
      out.write("                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n");
      out.write("                            <path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"></path>\n");
      out.write("                            <circle cx=\"9\" cy=\"7\" r=\"4\"></circle>\n");
      out.write("                            <path d=\"m19 8 2 2-2 2\"></path>\n");
      out.write("                            <path d=\"m21 10-7.5 0\"></path>\n");
      out.write("                        </svg>\n");
      out.write("                        ");
      out.print( LanguageUtil.getText(lang, "login.noaccount") );
      out.write(" <strong>");
      out.print( LanguageUtil.getText(lang, "login.createaccount") );
      out.write("</strong>\n");
      out.write("                    </a>\n");
      out.write("                </div>\n");
      out.write("                \n");
      out.write("                <div class=\"link-row\">\n");
      out.write("                    <a href=\"forgot-password.jsp?lang=");
      out.print( lang );
      out.write("\" class=\"auth-link forgot-link\">\n");
      out.write("                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n");
      out.write("                            <path d=\"M9 12l2 2 4-4\"></path>\n");
      out.write("                            <path d=\"M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3\"></path>\n");
      out.write("                            <path d=\"M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3\"></path>\n");
      out.write("                            <path d=\"M12 3v6m0 6v6\"></path>\n");
      out.write("                        </svg>\n");
      out.write("                        ");
      out.print( LanguageUtil.getText(lang, "login.forgot") );
      out.write(" <strong>");
      out.print( LanguageUtil.getText(lang, "login.reset") );
      out.write("</strong>\n");
      out.write("                    </a>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("    <script>\n");
      out.write("        // Portal toggle logic\n");
      out.write("        const portalField = document.getElementById('portalField');\n");
      out.write("        const userPortalBtn = document.getElementById('userPortalBtn');\n");
      out.write("        const adminPortalBtn = document.getElementById('adminPortalBtn');\n");
      out.write("        const registerLink = document.getElementById('registerLink');\n");
      out.write("        const submitText = document.getElementById('submitText');\n");
      out.write("\n");
      out.write("        function setPortal(p) {\n");
      out.write("            portalField.value = p;\n");
      out.write("            if (p === 'admin') {\n");
      out.write("                adminPortalBtn.style.background = 'linear-gradient(135deg, #6366f1, #5855eb)';\n");
      out.write("                adminPortalBtn.style.color = '#fff';\n");
      out.write("                userPortalBtn.style.background = 'var(--gray-100)';\n");
      out.write("                userPortalBtn.style.color = 'var(--gray-700)';\n");
      out.write("                if (registerLink) registerLink.style.display = 'none';\n");
      out.write("                submitText.textContent = 'Sign In (Admin)';\n");
      out.write("            } else {\n");
      out.write("                userPortalBtn.style.background = 'linear-gradient(135deg, var(--primary-color), var(--primary-hover))';\n");
      out.write("                userPortalBtn.style.color = '#fff';\n");
      out.write("                adminPortalBtn.style.background = 'var(--gray-100)';\n");
      out.write("                adminPortalBtn.style.color = 'var(--gray-700)';\n");
      out.write("                if (registerLink) registerLink.style.display = '';\n");
      out.write("                submitText.textContent = 'Sign In';\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        // Initialize portal from server state or default\n");
      out.write("        (function(){\n");
      out.write("            const initPortal = portalField && portalField.value ? portalField.value : 'user';\n");
      out.write("            setPortal(initPortal);\n");
      out.write("        })();\n");
      out.write("        function togglePasswordVisibility() {\n");
      out.write("            const passwordInput = document.getElementById('password');\n");
      out.write("            const eyeIcon = document.getElementById('eyeIcon');\n");
      out.write("            \n");
      out.write("            if (passwordInput.type === 'password') {\n");
      out.write("                passwordInput.type = 'text';\n");
      out.write("                eyeIcon.innerHTML = `\n");
      out.write("                    <path d=\"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\"></path>\n");
      out.write("                    <line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\"></line>\n");
      out.write("                `;\n");
      out.write("            } else {\n");
      out.write("                passwordInput.type = 'password';\n");
      out.write("                eyeIcon.innerHTML = `\n");
      out.write("                    <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n");
      out.write("                    <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n");
      out.write("                `;\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        // Demo credentials auto-fill (optional)\n");
      out.write("        \n");
      out.write("    </script>\n");
      out.write("</body>\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof jakarta.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
